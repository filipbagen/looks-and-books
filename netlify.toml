# netlify.toml

[build]
  command = "pnpm run build"
  publish = "dist"

# API: proxy to Netlify functions (order matters - specific routes first)
[[redirects]]
  from = "/services"
  to = "/.netlify/functions/services"
  status = 200
  force = true

[[redirects]]
  from = "/timeslots"
  to = "/.netlify/functions/timeslots"
  status = 200
  force = true

[[redirects]]
  from = "/reserve"
  to = "/.netlify/functions/reserve"
  status = 200
  force = true

[[redirects]]
  from = "/confirm"
  to = "/.netlify/functions/confirm"
  status = 200
  force = true

# SPA: serve index.html for all other routes
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
